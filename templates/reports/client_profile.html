{% extends 'base.html' %}

{% block content %}
    {% load static %}
    <style>
        .elementor-divider {
            padding-top: 20px;
            padding-bottom: 15px;
        }

        hr {
            height: 2.5px;
            background-color: #ff0000;
            border: none;
        }

        .containerSlider {
            padding: 10px 15px;
        }

        .slide3color {
            background-color: #1ABC9C;
        }

        .slide1color {
            background-color: #833CA3;
        }

        .slide2color {
            background-color: #4054B2;
        }

        .carousel-indicators {
            bottom: 0;
        }

        .carousel-control.right,
        .carousel-control.left {
            background-image: none;
        }

        .carousel-item {
            min-height: 420px;
            height: 80%;
            width: 100%;
        }

        /* Animation delays */
        .carousel-caption h3:first-child {
            animation-delay: 1s;
        }

        .carousel-caption h5:nth-child(1) {
            animation-delay: 2s;
        }

        .elementor-slide-heading {
            font-size: 35px;
            font-weight: 700;
            line-height: 1;
            text-align: center;
            margin-bottom: 25px;
        }

        .elementor-slide-description {
            font-family: Sans-serif;
            font-weight: revert;
            text-align: center;
            margin-bottom: 100px;
        }

    </style>

    <h1 class="mt-5" style="text-align: center;"><b>CLient Report</b></h1>
    <img class="mt-4" width="100%" src="{% static 'dist/img/client-page-header.png' %}">

    <div class="elementor-divider"></div>
    <hr>
    <div class="elementor-divider"></div>
    <h2 style="text-align: center; color: red;"><b>CLient Profile</b></h2>
    <div class="elementor-divider"></div>

    <div class="row">
        <div class="col-md-6 mt-5">
            <font size="+3"> Client Name :  {{client_name}}</font> <br>
            <font size="+3">Plan :   {{plan_type}}</font><br>
            <font size="+3">Started on - {{plan_start_date}}</font><br>
        </div>
        <div class="col-md-6">
            <img class="mt-3 float-right" height="250px" width="250px" src="data:image/jpg;base64,{{ qr_image }}"/>
        </div>
    </div>

    <div class="elementor-divider"></div>
    <hr>
    <div class="elementor-divider"></div>
    <h2 style="text-align: center; color: red;" id="per_had"><b>Performance of the Week</b></h2>
    <div class="elementor-divider"></div>

    <h3 class="float-left" style="margin-left: 40px" id="from_dat">From - {{ week_startdate }}</h3>
    <h3 class="float-right" style="margin-right: 40px" id="to_dat">To - {{ week_enddate }}</h3>
    <div class="elementor-divider"></div>
    <div class="elementor-divider"></div>


   <div class="col-lg-4" style="margin-left: 35%; margin-right: 30%">
         <label style="margin-left: 25%; margin-right: 30%">Filter by Date Range</label>
        <form class="form-inline mb-3" id="daterangeform" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
             <div class="form-group">

                <input type="text" class="form-control daterange"  placeholder="Select date range for history record"  id="Date" name="daterange"/>
                 <button type="submit" class="btn btn-light ml-2 float-right">Filter Records</button>
            </div>

        </form>
   </div>
    <div class="elementor-divider"></div>


    <div class="row">
        <div class="col-3">
            <!-- small box -->
            <div class="small-box bg-info">
                <div class="inner">
                    <h3 id="card1">{{ brand_awareness }}</h3>

                    <p>Brand Awareness</p>
                </div>
                <div class="icon">
                    <i class="ion ion-bag"></i>
                </div>
            <a href="{% url 'reports:daily_charts' %}" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>            </div>
        </div>
        <!-- ./col -->
        <div class="col-3">
            <!-- small box -->
            <div class="small-box bg-success">
                <div class="inner">
                    <h3 id="card2">{{ purchase_choices }}<sup style="font-size: 20px"></sup></h3>

                    <p>Choices on Purchase</p>
                </div>
                <div class="icon">
                    <i class="ion ion-stats-bars"></i>
                </div>  <a href="{% url 'reports:daily_charts' %}" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
            </div>
        </div>
        <!-- ./col -->
        <div class="col-3">
            <!-- small box -->
            <div class="small-box bg-warning">
                <div class="inner">
                    <h3 id="card3">{{ brand_loyalty }}</h3>

                    <p>Brand Loyalty</p>
                </div>
                <div class="icon">
                    <i class="ion ion-person-add"></i>
                </div>
                <a href="{% url 'reports:daily_charts' %}" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
            </div>
        </div>
        <!-- ./col -->
        <div class="col-3">
            <!-- small box -->
            <div class="small-box bg-danger">
                <div class="inner">
                    <h3 id="card4">{{ net_promotor_score }}</h3>

                    <p>Net Promotor Score</p>
                </div>
                <div class="icon">
                    <i class="ion ion-pie-graph"></i>
                </div>
                  <a href="{% url 'reports:daily_charts' %}" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
            </div>
        </div>
        <!-- ./col -->
    </div>


    <div class="row mt-2">
        <div class="col-4">
            <!-- small box -->
            <div class="small-box bg-info">
                <div class="inner">
                    <h3 id="card5">{{ qr_scans }}</h3>

                    <p>QR Code Scans</p>
                </div>
                <div class="icon">
                    <i class="ion ion-bag"></i>
                </div>
                 <a href="{% url 'reports:daily_charts' %}" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
            </div>
        </div>
        <!-- ./col -->
        <div class="col-4">
            <!-- small box -->
            <div class="small-box bg-success">
                <div class="inner">
                    <h3 id="card6">{{ incomplete_responses }}<sup style="font-size: 20px"></sup></h3>

                    <p>Incomplete Responses</p>
                </div>
                <div class="icon">
                    <i class="ion ion-stats-bars"></i>
                </div>
                  <a href="{% url 'reports:daily_charts' %}" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
            </div>
        </div>
        <!-- ./col -->
        <div class="col-4">
            <!-- small box -->
            <div class="small-box bg-warning">
                <div class="inner">
                    <h3 id="card7">{{ completed_responses }}<sup style="font-size: 20px"></sup></h3>

                    <p>Completed Responses</p>
                </div>
                <div class="icon">
                    <i class="ion ion-person-add"></i>
                </div>
                  <a href="{% url 'reports:daily_charts' %}" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
            </div>
        </div>
        <!-- ./col -->
    </div>
<!--     <div class="elementor-divider"></div>-->
<!--     <div class="elementor-divider"></div>-->

<!--    <div class="row">-->
<!--        <div class="col-md-12">-->
<!--            <div class="card">-->
<!--                <div class="card-header" style="background-color:rgba(13, 90, 167,0.2)">-->
<!--                    <h3 class="card-title">Pie Chart Analysis</h3>-->

<!--                    <div class="card-tools">-->
<!--                        <button type="button" class="btn btn-tool" data-card-widget="collapse"><i-->
<!--                                class="fas fa-minus"></i></button>-->
<!--                        <button type="button" class="btn btn-tool" data-card-widget="remove"><i-->
<!--                                class="fas fa-times"></i></button>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="card-body">-->
<!--                    <div class="chart">-->
<!--                        <div class="row">-->
<!--                            <div class="col-md-6">-->
<!--                                <canvas id="pieChart"-->
<!--                                        style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>-->
<!--                            </div>-->
<!--                            <div class="col-md-6">-->
<!--                                <canvas id="doughnutChart"-->
<!--                                        style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--    <div class="elementor-divider"></div>-->



<!--    <div class="row">-->
<!--        <div class="col-md-12">-->
<!--            <div class="card">-->
<!--                <div class="card-header" style="background-color:rgba(13, 90, 167,0.2)">-->
<!--                    <h3 class="card-title">Bar Chart Analysis</h3>-->

<!--                    <div class="card-tools">-->
<!--                        <button type="button" class="btn btn-tool" data-card-widget="collapse"><i-->
<!--                                class="fas fa-minus"></i>-->
<!--                        </button>-->
<!--                        <button type="button" class="btn btn-tool" data-card-widget="remove"><i-->
<!--                                class="fas fa-times"></i></button>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="card-body">-->
<!--                    <div class="chart">-->
<!--                        <canvas id="barChart"-->
<!--                                style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--    <div class="elementor-divider"></div>-->





    <div class="elementor-divider"></div>
    <div class="elementor-divider"></div>
    <div class="row">
        <div class="col-md-3"><canvas id="myChart1"></canvas></div>
        <div class="col-md-3"><canvas id="myChart2"></canvas></div>
        <div class="col-md-3"><canvas id="myChart3"></canvas></div>
        <div class="col-md-3"><canvas id="myChart4"></canvas></div>
        <div class="col-md-4"><canvas id="myChart5"></canvas></div>
        <div class="col-md-4"><canvas id="myChart6"></canvas></div>
        <div class="col-md-4"><canvas id="myChart7"></canvas></div>
    </div>


    <div class="elementor-divider"></div>
    <div class="elementor-divider"></div>
    <h5 style="text-align: center; color: black; opacity: 0.6;"><b>Updates from uxlivinglab</b></h5>
    <div class="elementor-divider"></div>

    <div class="containerSlider">
        <div class="row">
            <div class="col">

                <!-- carousel code -->
                <div id="carouselExampleIndicators" class="carousel slide">
                    <ol class="carousel-indicators">
                        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                    </ol>
                    <div class="carousel-inner skyblue">

                        <!-- first slide -->
                        <div class="carousel-item active slide1color">
                            <div class="carousel-caption d-md-block" style="width: content-box">
                                <h3 class="animate__animated animate__slideInDown elementor-slide-heading"
                                    style="text-align: center" data-animation="animate__animated">
                                    Why some sections of the report is blank?
                                </h3>
                                <h5 class="animate__animated animate__slideInUp elementor-slide-description"
                                    style="text-align: center">
                                    The report is based on responses form viewers. Encourage your targeted consumers and
                                    existing consumers to give feedbacks by scanning your QR code
                                </h5>
                            </div>
                        </div>

                        <!-- second slide -->
                        <div class="carousel-item slide2color" style="width: content-box">
                            <div class="carousel-caption d-md-block">
                                <h3 class="animate__animated animate__slideInDown elementor-slide-heading"
                                    style="text-align: center" data-animation="animated bounceInLeft">
                                    When the report is getting updated?
                                </h3>
                                <h5 class="animate__animated animate__slideInUp elementor-slide-description"
                                    style="text-align: center" data-animation="animated bounceInRight">
                                    Data is updating live to uxlivinglab server from responses. Reports will be updated
                                    to you on every Monday.
                                </h5>
                            </div>
                        </div>

                        <!-- third slide -->
                        <div class="carousel-item slide3color">
                            <div class="carousel-caption d-md-block" style="width: content-box">
                                <h3 class="animate__animated animate__slideInDown elementor-slide-heading"
                                    style="text-align: center; margin-top: 0px;">
                                    Where you can use the report from uxlivinglab?
                                </h3>
                                <h5 class="animate__animated animate__slideInUp elementor-slide-description"
                                    style="text-align: center">
                                    Anywhere, its your discretion. We recommend you to use the report in your day to day
                                    decision making process.
                                </h5>
                            </div>
                        </div>
                    </div>

                    <!-- controls -->
                    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>

            </div>
        </div>
    </div>


    <div class="elementor-divider"></div>
    <div class="elementor-divider"></div>
    <hr>
    <div class="elementor-divider"></div>
    <h4 style="text-align: center; color: black;"><b>How to use your QR code</b></h4>
    <h5 style="text-align: center; color: black; opacity: 0.6;"><b>1. Display the QR code on your information, products,
        packaging and social media</b></h5>

    <h5 style="text-align: center; color: black; opacity: 0.6;"><b>2. Encourage viewers to scan the QR code and upload
        their feedbacks</b></h5>

    <div class="container">
        <div id="slider-container">
            <div id="slider">
                <!-- to be populated by the plugin-->
            </div>
            <div class="nav">
                <i class="left arrow icon-arrow-left icon-4x"></i>
                <i class="pause arrow icon-pause icon-4x"></i>
                <i class="right arrow icon-arrow-right icon-4x"></i>
            </div>
        </div>
    </div>

    <div class="elementor-divider"></div>
    <hr>
    <div class="elementor-divider"></div>
    <h4 style="text-align: center; color: black; opacity: 0.6"><b>Your Quries</b></h4>
    <div class="elementor-divider"></div>

    <div class="row">
        <div class="col-md-12" style="text-align: center">
            <iframe style="margin-left: 0px"
                    src="https://docs.google.com/forms/d/e/1FAIpQLSfjjZbDetVkth4FyNQ50hqd2rz_87F5M4n9Al2shl5Yh9ERsg/viewform?embedded=true"
                    width="100%" height="600px" frameborder="0" marginheight="0" marginwidth="0">Loadingâ€¦
            </iframe>
        </div>
    </div>

    <div class="elementor-divider"></div>
    <div class="elementor-divider"></div>
    <hr style="background-color: black; height: 1px;">
    <div class="elementor-divider"></div>
    <a href="https://uxlivinglab.com/" class="elementor-button-link elementor-button elementor-size-sm" role="button">
        <h6 style="text-align: center; color: black; opacity: 0.6"><b> Visit uxlivinglab</b></h6>
    </a>
    <div class="elementor-divider"></div>

    <div class="row text-center">
        <div class="col-12">
            <img class="img-responsive" style="margin:0 auto;" src="{% static 'dist/img/logo-sm.png' %}"/>
        </div>
    </div>
    <div class="elementor-divider"></div>
    <h6 style="text-align: center; color: red;"><b>uxlivinglab - innovating from people's minds</b></h6>
    <div class="elementor-divider"></div>
    <div class="elementor-divider"></div>
    <hr style="background-color: black; height: 1px;">


{% endblock content %}

{% block custom_js %}

    <script type="module">
    import chartjsChartRadialGauge from "https://cdn.skypack.dev/chartjs-chart-radial-gauge@1.1.0";
        $(document).ready(function () {

            $(function() {
                $('.daterange').daterangepicker();
            });

            // var ClientData = {
            //     labels: ['Brand Awareness', 'Choices on purchase', 'Brand Loyalty', 'Net Promotor Score', 'QR Code Scans', 'Incomplete Responses', 'Completed Responses'],
            //     datasets: [
            //         {
            //             data: [{{brand_awareness}}, {{purchase_choices}}, {{brand_loyalty}}, {{net_promotor_score}}, {{qr_scans}}, {{incomplete_responses}}, {{completed_responses}}],
            //             backgroundColor: [
            //                 {#'rgba(255, 99, 132, 0.4)',#}
            //                 {#'rgba(54, 162, 235, 0.4)',#}
            //                 {#'rgba(255, 206, 86, 0.4)',#}
            //                 {#'rgba(75, 192, 192, 0.2)',#}
            //                 {#'rgba(153, 102, 255, 0.4)',#}
            //                 {#'rgba(255, 159, 74, 0.4)'#}
            //                 "#2ecc71",
            //                 "#3498db",
            //                 "#95a5a6",
            //                 "#9b59b6",
            //                 "#f1c40f",
            //                 "#e74c3c",
            //                 "#34495e"
            //             ],
            //             borderColor: [
            //                 'rgba(255, 99, 132, 1)',
            //                 'rgba(54, 162, 235, 1)',
            //                 'rgba(255, 206, 86, 1)',
            //                 'rgba(75, 192, 192, 1)',
            //                 'rgba(153, 102, 255, 1)',
            //                 'rgba(255, 159, 64, 1)',
            //                 'rgba(255, 159, 74, 1)'
            //             ],
            //             borderWidth: 1
            //         }
            //     ]
            // }
            // var pieChartCanvas = $('#pieChart').get(0).getContext('2d');
            // var pieData = ClientData;
            // var pieOptions = {
            //     maintainAspectRatio: false,
            //     responsive: true,
            //     legend: {
            //         position: 'right',
            //     }
            // }
            // var pieChart = new Chart(pieChartCanvas, {
            //     type: 'pie',
            //     data: pieData,
            //     options: pieOptions
            // });
            //
            // //Create pie or doughnut chart
            // // You can switch between pie and douhnut using the method below.
            // var doughnutChartCanvas = $('#doughnutChart').get(0).getContext('2d');
            // var doughnutData = ClientData;
            // var doughnutOptions = {
            //     maintainAspectRatio: false,
            //     responsive: true,
            //     legend: {
            //         position: 'right',
            //     },
            // }
            // var doughnutChart = new Chart(doughnutChartCanvas, {
            //     type: 'doughnut',
            //     data: doughnutData,
            //     options: doughnutOptions
            // });
            //
            //
            // var x_lables = ['Brand Awareness', 'Choices on purchase', 'Brand Loyalty', 'Net Promotor Score', 'QR Code Scans', 'Incomplete Responses', 'Completed Responses'];
            //
            // var y_counts = [{{brand_awareness}}, {{purchase_choices}}, {{brand_loyalty}}, {{net_promotor_score}}, {{qr_scans}}, {{incomplete_responses}}, {{completed_responses}}];
            // var barChartData = {
            //     labels: x_lables,
            //     datasets: [
            //         {
            //             label: 'Client weekly report Info',
            //             backgroundColor: [
            //                 {#'rgba(255, 99, 132, 0.4)',#}
            //                 {#'rgba(54, 162, 235, 0.4)',#}
            //                 {#'rgba(255, 206, 86, 0.4)',#}
            //                 {#'rgba(75, 192, 192, 0.2)',#}
            //                 {#'rgba(153, 102, 255, 0.4)',#}
            //                 {#'rgba(255, 159, 74, 0.4)'#}
            //                 "#2ecc71",
            //                 "#3498db",
            //                 "#95a5a6",
            //                 "#9b59b6",
            //                 "#f1c40f",
            //                 "#e74c3c",
            //                 "#34495e"
            //             ],
            //             borderColor: [
            //                 'rgba(255, 99, 132, 1)',
            //                 'rgba(54, 162, 235, 1)',
            //                 'rgba(255, 206, 86, 1)',
            //                 'rgba(75, 192, 192, 1)',
            //                 'rgba(153, 102, 255, 1)',
            //                 'rgba(255, 159, 64, 1)',
            //                 'rgba(255, 159, 74, 1)'
            //             ],
            //             borderWidth: 2,
            //             pointRadius: 1,
            //             pointColor: '#3b8bba',
            //             pointStrokeColor: 'rgba(60,141,188,1)',
            //             pointHighlightFill: '#fff',
            //             pointHighlightStroke: 'rgba(60,141,188,1)',
            //             data: y_counts
            //         },
            //     ]
            // }
            // var barChartCanvas = $('#barChart').get(0).getContext('2d')
            //
            // var temp0 = barChartData.datasets[0]
            // //var temp1 = areaChartData.datasets[1]
            // barChartData.datasets[0] = temp0
            // // barChartData.datasets[1] = temp0
            //
            // var stackedBarChartOptions = {
            //     responsive: true,
            //     maintainAspectRatio: false,
            //     legend: {
            //         display: true,
            //         position: 'top',
            //         labels: {
            //             fontColor: "#000080",
            //         }
            //     },
            //     scales: {
            //         xAxes: [{
            //             stacked: true,
            //         }],
            //         yAxes: [{
            //             stacked: true,
            //             beginAtZero: true,
            //             ticks: {
            //                 beginAtZero: true
            //             }
            //
            //         }]
            //     }
            // }

            // var barChart = new Chart(barChartCanvas, {
            //     type: 'bar',
            //     data: barChartData,
            //     options: stackedBarChartOptions
            // })

            const data1 = {
                datasets: [{
                    label: 'Brand Awareness',
                    data: ["{{ brand_awareness }}"],
                      backgroundColor: [ "#2ecc71"],
                    hoverOffset: 4
                }]
            };
            const config1 = {
                type: 'radialGauge',
                data: data1,
                options: {title: {display: true, text: "Brand Awareness".toUpperCase()}}
            };
            var myChart1 = new Chart(
                document.getElementById('myChart1'),
                config1
            );

             const data2 = {
                datasets: [{
                    label: 'Choices on purchase',
                    data: ["{{ purchase_choices }}"],
                    backgroundColor: [ "#3498db"],
                    hoverOffset: 4
                }]
            };
            const config2 = {
                type: 'radialGauge',
                data: data2,
                options: {title: {display: true, text: "Choices on purchase".replaceAll("_", " ").toUpperCase()}}
            };
            var myChart2 = new Chart(
                document.getElementById('myChart2'),
                config2
            );

            const data3 = {
                datasets: [{
                    label: 'Brand Loyalty',
                    data: ["{{ brand_loyalty }}"],
                    backgroundColor: [  "#95a5a6"],
                    hoverOffset: 4
                }]
            };
            const config3 = {
                type: 'radialGauge',
                data: data3,
                options: {title: {display: true, text: "Brand Loyalty".replaceAll("_", " ").toUpperCase()}}
            };
            var myChart3 = new Chart(
                document.getElementById('myChart3'),
                config3
            );

             const data4 = {
                datasets: [{
                    label: 'Net Promotor Score',
                    data: ["{{ net_promotor_score }}"],
                    backgroundColor: ["#9b59b6"],
                    hoverOffset: 4
                }]
            };
            const config4 = {
                type: 'radialGauge',
                data: data4,
                options: {title: {display: true, text: "Net Promotor Score".replaceAll("_", " ").toUpperCase()}}
            };
            var myChart4 = new Chart(
                document.getElementById('myChart4'),
                config4
            );

             const data5 = {
                datasets: [{
                    label: 'QR Code Scans',
                    data: ["{{ qr_scans }}"],
                    backgroundColor: ["#f1c40f"],
                    hoverOffset: 4
                }]
            };
            const config5 = {
                type: 'radialGauge',
                data: data5,
                options: {title: {display: true, text: "QR Code Scans".replaceAll("_", " ").toUpperCase()}}
            };
            var myChart5 = new Chart(
                document.getElementById('myChart5'),
                config5
            );

             const data6 = {
                datasets: [{
                    label: 'Incomplete Responses',
                    data: ["{{ incomplete_responses }}"],
                    backgroundColor: ["#e74c3c"],
                    hoverOffset: 4
                }]
            };
            const config6 = {
                type: 'radialGauge',
                data: data6,
                options: {title: {display: true, text: "Incomplete Responses".replaceAll("_", " ").toUpperCase()}}
            };
            var myChart6 = new Chart(
                document.getElementById('myChart6'),
                config6
            );

             const data7 = {
                datasets: [{
                    label: 'Completed Responses',
                    data: ["{{ completed_responses }}"],
                    backgroundColor: ["#34495e"],
                    hoverOffset: 4
                }]
            };
            const config7 = {
                type: 'radialGauge',
                data: data7,
                options: {title: {display: true, text: "Completed Responses".replaceAll("_", " ").toUpperCase()}}
            };
            var myChart7 = new Chart(
                document.getElementById('myChart7'),
                config7
            );


            $(window).load(function () {
                $('#slider').impulseslider({
                    height: 180,
                    width: 420,
                    depth: 275,
                    perspective: 2000,
                    pauseTime: 3000,
                    transitionDuration: 1500,
                    transitionEffect: "ease-in-out",
                    autostart: true,
                    rightSelector: ".right",
                    leftSelector: ".left",
                    pauseSelector: ".pause",
                    directionRight: true,
                    containerSelector: "#slider-container",
                    spinnerSelector: "#slider",
                    images: ["{% static 'dist/img/img1.png' %}", "{% static 'dist/img/img2.png' %}", "{% static 'dist/img/img1.png' %}", "{% static 'dist/img/img2.png' %}"],
                    imageDivClasses: ["face"]
                });
            });

            //Function to animate slider captions
            function doAnimations(elems) {
                //Cache the animationend event in a variable
                var animEndEv = "webkitAnimationEnd animationend";

                elems.each(function () {
                    var $this = $(this),
                        $animationType = $this.data("animation");
                    $this.addClass($animationType).one(animEndEv, function () {
                        $this.removeClass($animationType);
                    });
                });
            }
            var $myCarousel = $("#carouselExampleIndicators"),
                $firstAnimatingElems = $myCarousel
                    .find(".carousel-item:first")
                    .find("[data-animation ^= 'animate__animated']");
            $myCarousel.carousel();
            doAnimations($firstAnimatingElems);
            $myCarousel.on("slide.bs.carousel", function (e) {
                var $animatingElems = $(e.relatedTarget).find(
                    "[data-animation ^= 'animate__animated']"
                );
                doAnimations($animatingElems);
            });


            $("#daterangeform").submit(function (e) {
                e.preventDefault();

                $.ajax({
                url: 'client_profile',
                method: 'POST',
                data: $('#daterangeform').serialize(),
                dataType: 'json',
                success: function (context) {
                  var str = $(".daterange").val();
                  const myArr = str.split("-");
                  $("#per_had").html("<b>History Performance</b>");
                  $("#from_dat").html("From - " + myArr[0]);
                  $("#to_dat").html("From - " + myArr[1]);


                  $("#card1").html(context.brand_awareness);
                  $("#card2").html(context.purchase_choices);
                  $("#card3").html(context.brand_loyalty);
                  $("#card4").html(context.net_promotor_score);
                  $("#card5").html(context.qr_scans);
                  $("#card6").html(context.incomplete_responses);
                  $("#card7").html(context.completed_responses);
                  // barChart.data.datasets[0].data = [context.brand_awareness, context.purchase_choices,context.brand_loyalty, context.net_promotor_score, context.qr_scans,context.incomplete_responses,context.completed_responses,];
                  // pieChart.data.datasets[0].data = [context.brand_awareness, context.purchase_choices,context.brand_loyalty, context.net_promotor_score, context.qr_scans,context.incomplete_responses,context.completed_responses,];
                  // doughnutChart.data.datasets[0].data = [context.brand_awareness, context.purchase_choices,context.brand_loyalty, context.net_promotor_score, context.qr_scans,context.incomplete_responses,context.completed_responses,];
                  //
                  // barChart.update();
                  // pieChart.update();
                  // doughnutChart.update();

                  myChart1.data.datasets[0].data = [context.brand_awareness];
                  myChart2.data.datasets[0].data = [context.purchase_choices];
                  myChart3.data.datasets[0].data = [context.brand_loyalty];
                  myChart4.data.datasets[0].data = [context.net_promotor_score];
                  myChart5.data.datasets[0].data = [context.qr_scans];
                  myChart6.data.datasets[0].data = [context.incomplete_responses];
                  myChart7.data.datasets[0].data = [context.completed_responses];

                  myChart1.update();
                  myChart2.update();
                  myChart3.update();
                  myChart4.update();
                  myChart5.update();
                  myChart6.update();
                  myChart7.update();
                }
              });
            });

        })
    </script>

{% endblock custom_js %}